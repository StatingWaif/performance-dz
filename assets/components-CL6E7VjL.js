import{r as s,j as e}from"./modules-m0IMZUTJ.js";const u=()=>e.jsx("a",{href:"/",className:"header__logo","aria-label":"Яндекс.Дом"}),_=s.memo(u),L=()=>{let[i,a]=s.useState(!1),[n,t]=s.useState(!1);const r=()=>{n||t(!0),a(!i)};return e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx("button",{className:"header__menu","aria-expanded":i?"true":"false",onClick:r,children:e.jsx("span",{className:"header__menu-text a11y-hidden",children:i?"Закрыть меню":"Открыть меню"})}),e.jsxs("ul",{className:"header__links"+(i?" header__links_opened":"")+(n?" header__links-toggled":""),children:[e.jsx("li",{className:"header__item",children:e.jsx("a",{className:"header__link header__link_current",href:"/","aria-current":"page",children:"Сводка"})}),e.jsx("li",{className:"header__item",children:e.jsx("a",{className:"header__link",href:"/devices",children:"Устройства"})}),e.jsx("li",{className:"header__item",children:e.jsx("a",{className:"header__link",href:"/scripts",children:"Сценарии"})})]})]})},b=({title:i,icon:a,subtitle:n,iconLabel:t})=>e.jsx("li",{className:"event",children:e.jsxs("button",{className:"event__button",children:[e.jsx("span",{className:`event__icon event__icon_${a}`,role:"img","aria-label":t}),e.jsx("h4",{className:"event__title",children:i}),n&&e.jsx("span",{className:"event__subtitle",children:n})]})}),x=s.memo(b),c={all:{title:"Все",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]},kitchen:{title:"Кухня",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Yeelight LED Smart Bulb",subtitle:"Включено"},{icon:"temp",iconLabel:"Температура",title:"Elgato Eve Degree Connected",subtitle:"Выключено до 17:00"}]},hall:{title:"Зал",items:[{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Выключено"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Выключено"}]},lights:{title:"Лампочки",items:[{icon:"light",iconLabel:"Освещение",title:"D-Link Omna 180 Cam",subtitle:"Включится в 17:00"},{icon:"light",iconLabel:"Освещение",title:"LIFX Mini Day & Dusk A60 E27",subtitle:"Включится в 17:00"},{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"},{icon:"light",iconLabel:"Освещение",title:"Philips Zhirui",subtitle:"Включено"}]},cameras:{title:"Камеры",items:[{icon:"light2",iconLabel:"Освещение",title:"Xiaomi Mi Air Purifier 2S",subtitle:"Включено"}]}},o=["all","kitchen","hall","lights","cameras"];c.all.items=Array(64).fill(c.all.items).flat();const g={all:102400,kitchen:478,hall:400,lights:813,cameras:200},p=({activeTab:i})=>{const a=s.useRef(),n=s.useRef(),[t,r]=s.useState(!1);s.useEffect(()=>{if(a.current){const l=()=>{r(g[i]>a.current.offsetWidth)};return l(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}}},[i]);const h=()=>{const l=n.current;l&&l.scrollTo({left:l.scrollLeft+400,behavior:"smooth"})};return e.jsxs("div",{className:"section__panel-wrapper",ref:a,children:[o.map(l=>e.jsx("div",{ref:l===i?n:null,role:"tabpanel",className:"section__panel"+(l===i?"":" section__panel_hidden"),"aria-hidden":l===i?"false":"true",id:`panel_${l}`,"aria-labelledby":`tab_${l}`,children:e.jsx("ul",{className:"section__panel-list",children:c[l].items.map((d,m)=>e.jsx(x,{...d},m))})},l)),t&&e.jsx("div",{className:"section__arrow",onClick:h})]})},j=({onSelectInput:i})=>e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"section__title-header",children:"Избранные устройства"}),e.jsxs("select",{className:"section__select",defaultValue:"all",onInput:i,children:[e.jsx("option",{value:"all",children:"Все"}),e.jsx("option",{value:"kitchen",children:"Кухня"}),e.jsx("option",{value:"hall"}),e.jsx("option",{value:"lights",children:"Лампочки"}),e.jsx("option",{value:"cameras",children:"Камеры"})]})]}),f=s.memo(j),N=()=>{const[i,a]=s.useState(()=>new URLSearchParams(location.search).get("tab")||"all"),n=s.useCallback(t=>{a(t.target.value)},[]);return e.jsxs("section",{className:"section main__devices",children:[e.jsxs("div",{className:"section__title",children:[e.jsx(f,{onSelectInput:n}),e.jsx("ul",{role:"tablist",className:"section__tabs",children:o.map(t=>e.jsx("li",{role:"tab","aria-selected":t===i?"true":"false",tabIndex:t===i?"0":void 0,className:"section__tab"+(t===i?" section__tab_active":""),id:`tab_${t}`,"aria-controls":`panel_${t}`,onClick:()=>a(t),children:c[t].title},t))})]}),e.jsx(p,{activeTab:i})]})};export{N as F,L as H};
